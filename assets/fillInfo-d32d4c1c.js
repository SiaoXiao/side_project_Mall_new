import{af as D,f as A,g as E,h as u,r as k,o as B,c as C,i as p,e,v as r,y as f,u as l,z as x,x as a,w as V,Z as M,n as N,ag as P,Q as U,H as I}from"./index-5ccee54c.js";import{_ as R}from"./ShoppingFlowChart-489595dd.js";import{w as S,e as T}from"./useNotification-c895e272.js";const O={class:"mb-10"},j={class:"relative min-h-[calc(100vh-5rem)] mt-5"},z={class:"flex flex-col w-full gap-5 mt-5 sm:flex-row"},$={class:"w-full space-y-5 pb-9"},G={class:"w-full border border-[#DDBEA9] pb-9"},H=e("h3",{class:"text-xl titleText bg-[#FFE8D6] px-2 py-1"},"購買人資訊",-1),J={class:"flex items-center w-full gap-2 px-4 py-1"},Q=e("label",{for:"sameAsMemberInfo",class:"text"},"購買人資料與會員資料相同",-1),Z={class:"flex flex-col w-full gap-1 px-4 py-1"},q=e("label",{class:"flex items-center w-full text md:w-1/5"},"姓名",-1),K={class:"flex flex-col w-full gap-1 px-4 py-1"},L=e("label",{class:"flex items-center w-full text md:w-1/5"},"電話號碼",-1),W={class:"flex flex-col w-full gap-1 px-4 py-1"},X=e("label",{class:"flex items-center w-full text md:w-1/5"},"電子信箱",-1),Y={class:"flex flex-col w-full gap-1 px-4 py-1"},ee=e("label",{class:"flex items-center w-full text md:w-1/5"},"收件地址",-1),te={class:"w-full border border-[#DDBEA9] pb-9"},se=e("h3",{class:"text-xl titleText bg-[#FFE8D6] px-2 py-1"},"備註",-1),oe={class:"w-full p-3"},le={class:"w-full border border-[#DDBEA9] pb-9"},re=e("h3",{class:"text-xl titleText bg-[#FFE8D6] px-2 py-1"},"送貨資訊",-1),ne={class:"flex items-center w-full gap-2 px-4 py-1"},ae=e("label",{for:"sameAsBuyerInfo",class:"text"},"收件人資料與購買人相同",-1),ie={class:"flex flex-col w-full gap-1 px-4 py-1"},de=e("label",{class:"flex items-center w-full text md:w-1/5"},"收件人姓名",-1),me={class:"flex flex-col w-full gap-1 px-4 py-1"},ce=e("label",{class:"flex items-center w-full text md:w-1/5"},"聯絡電話",-1),ue={class:"flex flex-col w-full gap-1 px-4 py-1"},pe=e("label",{class:"flex items-center w-full text md:w-1/5"},"電子信箱",-1),fe={class:"flex flex-col w-full gap-1 px-4 py-1 mb-5"},xe=e("label",{class:"flex items-center w-full text md:w-1/5"},"收件地址",-1),be={class:"w-full px-4 py-1"},_e=e("div",{class:"py-1 pt-3 relative before:content-[''] before:absolute before:top-0 before:left-0 before:right-0 before:border before:border-[#DDBEA9]"},[e("span",{class:"text"},"寄出時間/自取時間"),e("ul",{class:"pl-5 text-sm text-red-500 list-disc text"},[e("li",null,"請謹慎選擇日期，若要更改需加收150元人工費"),e("li",null,"出貨後2天內會到貨，時間會依照物流人員當天狀況而決定"),e("li",null,"重大國定假日/年節/中秋或天災 (颱風/地震）有可能延遲到貨 (4天內到達)"),e("li",null,"自取請在備註填寫自取時間")])],-1),we={class:"py-1"},ge=e("span",{class:"text"},"選擇日期",-1),he={class:"flex items-center justify-end w-full mt-5"},Ae={__name:"fillInfo",setup(ye){const b=D("reload"),_=A(),i=E(),m=u(!1),c=u(!1),t=k({memberForm:{Name:"",Phone:"",Email:"",Address:""},recipientForm:{Discounts:i.getters["cartModules/cartStatus"].discount?[i.getters["cartModules/cartStatus"].discount]:null,Recipient:"",Phone:"",Addr:"",OrderRemark:"",Email:"",PaymentMethod:i.getters["cartModules/cartStatus"].payment,DeliveryMethod:i.getters["cartModules/cartStatus"].delivery},date:null,orderTotal:i.getters["cartModules/cartTotal"]}),w=()=>{if(m.value===!0){const n=JSON.parse(localStorage.getItem("memberInfo"));t.memberForm.Name=n.username,t.memberForm.Phone=n.phone,t.memberForm.Email=n.email,t.memberForm.Address=n.address}},g=()=>{c.value===!0&&(t.recipientForm.Addr=t.memberForm.Address,t.recipientForm.Recipient=t.memberForm.Name,t.recipientForm.Phone=t.memberForm.Phone,t.recipientForm.Email=t.memberForm.Email)},h=()=>{const n=Object.values(t.memberForm).every(d=>d!==""),s=Object.values(t.recipientForm).every(d=>d!=="");return!(!n||!s)},y=()=>{h()?M("確定要送出訂單嗎?").then(n=>{n&&F()}):S("請填寫所有的欄位")},F=async()=>{const n=t.recipientForm;try{await N(P,n,()=>{i.commit("cartModules/SET_CART_INFO",t.recipientForm),b(),_.push("/cart/finish")})}catch(s){T("訂單提交失敗",s)}};return(n,s)=>{const d=R,v=U;return B(),C("main",O,[p(d),e("div",j,[e("div",z,[e("div",$,[e("div",G,[H,e("div",J,[r(e("input",{type:"checkbox",name:"sameAsMemberInfo",id:"sameAsMemberInfo",class:"w-4 h-4","onUpdate:modelValue":s[0]||(s[0]=o=>x(m)?m.value=o:null),onChange:w},null,544),[[f,l(m)]]),Q]),e("div",Z,[q,r(e("input",{type:"text",name:"name","onUpdate:modelValue":s[1]||(s[1]=o=>l(t).memberForm.Name=o),class:"w-full py-1 px-2 bg-transparent border-2 rounded-md border-[#DDBEA9] text-base tracking-wide text-[#323232] focus:ring-0 focus:outline-none"},null,512),[[a,l(t).memberForm.Name]])]),e("div",K,[L,r(e("input",{type:"tel",name:"phone","onUpdate:modelValue":s[2]||(s[2]=o=>l(t).memberForm.Phone=o),class:"w-full py-1 px-2 bg-transparent border-2 rounded-md border-[#DDBEA9] text-base tracking-wide text-[#323232] focus:ring-0 focus:outline-none"},null,512),[[a,l(t).memberForm.Phone]])]),e("div",W,[X,r(e("input",{type:"email",name:"email","onUpdate:modelValue":s[3]||(s[3]=o=>l(t).memberForm.Email=o),class:"w-full py-1 px-2 bg-transparent border-2 rounded-md border-[#DDBEA9] text-base tracking-wide text-[#323232] focus:ring-0 focus:outline-none"},null,512),[[a,l(t).memberForm.Email]])]),e("div",Y,[ee,r(e("input",{type:"text",name:"address","onUpdate:modelValue":s[4]||(s[4]=o=>l(t).memberForm.Address=o),class:"w-full py-1 px-2 bg-transparent border-2 rounded-md border-[#DDBEA9] text-base tracking-wide text-[#323232] focus:ring-0 focus:outline-none"},null,512),[[a,l(t).memberForm.Address]])])]),e("div",te,[se,e("div",oe,[r(e("textarea",{rows:"5",cols:"30","onUpdate:modelValue":s[5]||(s[5]=o=>l(t).recipientForm.OrderRemark=o),class:"w-full p-1 border-2 border-[#FFE8D6] rounded-md focus:ring-0 focus:outline-[#CB997E] resize-none",placeholder:"有任何額外需求請打在此處"},null,512),[[a,l(t).recipientForm.OrderRemark]])])])]),e("div",le,[re,e("div",ne,[r(e("input",{type:"checkbox",name:"sameAsBuyerInfo",id:"sameAsBuyerInfo","onUpdate:modelValue":s[6]||(s[6]=o=>x(c)?c.value=o:null),class:"w-4 h-4",onChange:g},null,544),[[f,l(c)]]),ae]),e("div",ie,[de,r(e("input",{type:"text",name:"recipientName","onUpdate:modelValue":s[7]||(s[7]=o=>l(t).recipientForm.Recipient=o),class:"w-full py-1 px-2 bg-transparent border-2 rounded-md border-[#DDBEA9] text-base tracking-wide text-[#323232] focus:ring-0 focus:outline-none"},null,512),[[a,l(t).recipientForm.Recipient]])]),e("div",me,[ce,r(e("input",{type:"tel",name:"recipientPhone","onUpdate:modelValue":s[8]||(s[8]=o=>l(t).recipientForm.Phone=o),class:"w-full py-1 px-2 bg-transparent border-2 rounded-md border-[#DDBEA9] text-base tracking-wide text-[#323232] focus:ring-0 focus:outline-none"},null,512),[[a,l(t).recipientForm.Phone]])]),e("div",ue,[pe,r(e("input",{type:"email",name:"recipientEmail","onUpdate:modelValue":s[9]||(s[9]=o=>l(t).recipientForm.Email=o),class:"w-full py-1 px-2 bg-transparent border-2 rounded-md border-[#DDBEA9] text-base tracking-wide text-[#323232] focus:ring-0 focus:outline-none"},null,512),[[a,l(t).recipientForm.Email]])]),e("div",fe,[xe,r(e("input",{type:"text",name:"recipientAddress","onUpdate:modelValue":s[10]||(s[10]=o=>l(t).recipientForm.Addr=o),class:"w-full py-1 px-2 bg-transparent border-2 rounded-md border-[#DDBEA9] text-base tracking-wide text-[#323232] focus:ring-0 focus:outline-none"},null,512),[[a,l(t).recipientForm.Addr]])]),e("div",be,[_e,e("div",we,[ge,r(e("input",{type:"date",name:"recipientDate","onUpdate:modelValue":s[11]||(s[11]=o=>l(t).date=o),class:"w-full py-1 px-2 bg-transparent border-2 rounded-md border-[#DDBEA9] text-base tracking-wide text-[#323232] focus:ring-0 focus:outline-none"},null,512),[[a,l(t).date]])])])])]),e("div",he,[p(v,{class:"w-full sm:w-1/5",onClick:y},{default:V(()=>[I("提交訂單")]),_:1})])])])}}};export{Ae as default};
