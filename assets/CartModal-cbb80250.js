import{o as i,c as r,e,h as m,i as u,u as o,w as f,a0 as I,t as c,F as x,b as M,v as $,z as v,y as B,H as U,T as j,Q as A}from"./index-9c676bbc.js";import{u as D}from"./useCart-13d9b515.js";const N={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},S=e("path",{fill:"currentColor","fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11a5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z","clip-rule":"evenodd"},null,-1),Z=[S];function T(t,h){return i(),r("svg",N,Z)}const _e={name:"heroicons-magnifying-glass-20-solid",render:T},G={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},H=e("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6 5v1H4.667a1.75 1.75 0 0 0-1.743 1.598l-.826 9.5A1.75 1.75 0 0 0 3.84 19h12.32a1.75 1.75 0 0 0 1.743-1.902l-.826-9.5A1.75 1.75 0 0 0 15.333 6H14V5a4 4 0 0 0-8 0Zm4-2.5A2.5 2.5 0 0 0 7.5 5v1h5V5A2.5 2.5 0 0 0 10 2.5ZM7.5 10a2.5 2.5 0 0 0 5 0V8.75a.75.75 0 0 1 1.5 0V10a4 4 0 0 1-8 0V8.75a.75.75 0 0 1 1.5 0V10Z","clip-rule":"evenodd"},null,-1),E=[H];function O(t,h){return i(),r("svg",G,E)}const P={name:"heroicons-shopping-bag-20-solid",render:O},q={class:"flex items-center justify-end"},z={class:"mt-6"},L={class:"flex flex-col md:flex-row"},Q={class:"w-full md:w-1/2"},R=["src"],X={class:"flex flex-col justify-between w-full px-5 md:w-1/2"},J={class:"flex items-center justify-between"},K={class:"text font-bold text-[#252422]"},W={class:"flex flex-col w-full gap-1 mt-3"},Y={class:"flex flex-col"},ee=e("span",{class:"font-medium text"},"選擇商品規格：",-1),te={class:"text-sm text"},se={class:"flex flex-wrap gap-3 mt-1"},oe=["name","value"],le={class:"flex items-center justify-center border rounded-lg px-3 py-1 text peer-checked:font-semibold peer-checked:bg-[#CB997E] peer-checked:text-white"},ne={class:"flex flex-col w-full gap-1 mt-3"},ae=e("span",{class:"font-medium text"},"購買數量：",-1),ce={class:"flex items-center"},ie=["value"],re={class:"flex flex-col w-full gap-1 mt-3"},de=e("span",{class:"font-medium text"},"建議售價：",-1),ue={class:"text before:content-['NT$'] before:mr-1"},fe={class:"relative flex items-center justify-center gap-4 after:absolute after:content after:h-[1px] after:w-full after:bg-text-secondary after:-top-4"},xe={__name:"CartModal",props:{item:Object},setup(t){const h=t,{buyNow:p}=D(),s=m(!1),l=m([]),g=()=>{s.value=!s.value,console.log("open")},_=()=>{s.value=!s.value},b=async()=>{await p(h.item,n.value,l.value),_()},n=m(1),w=()=>{n.value>0&&(n.value-=1)},y=()=>{n.value+=1};return(C,d)=>{const k=A;return i(),r(x,null,[u(o(P),{class:"w-8 h-8 rounded-md bg-[#FFFCF2] shadow-sm text-[#403D39] p-0.5 cursor-pointer hover:text-[#FFFCF2] hover:bg-[#403D39] transition-colors duration-150",onClick:g}),u(j,{modelValue:o(s),"onUpdate:modelValue":d[1]||(d[1]=a=>v(s)?s.value=a:null)},{title:f(()=>[e("div",q,[u(o(I),{class:"w-5 h-5 cursor-pointer hover:text-[#CCC5B9] transition-colors duration-150",onClick:_})])]),content:f(()=>[e("div",z,[e("div",L,[e("div",Q,[e("img",{src:t.item.ImageUrls&&t.item.ImageUrls.length>0?t.item.ImageUrls[0].Url:C.defaultImageUrl,alt:"",class:"block object-cover w-full h-full"},null,8,R)]),e("div",X,[e("div",J,[e("h2",K,c(t.item.Name),1)]),e("div",W,[e("div",Y,[ee,e("span",te,"可選擇 "+c(t.item.GoodsSpecs.length)+" 種，已選 "+c(o(l).length)+" 種",1)]),e("div",se,[(i(!0),r(x,null,M(t.item.GoodsSpecs,(a,V)=>(i(),r("label",{key:V},[$(e("input",{"onUpdate:modelValue":d[0]||(d[0]=F=>v(l)?l.value=F:null),class:"sr-only peer",name:a.ID,type:"checkbox",value:a.ID},null,8,oe),[[B,o(l)]]),e("div",le,c(a.Specs),1)]))),128))])]),e("div",ne,[ae,e("div",ce,[e("button",{onClick:w,class:"px-2 py-1 border border-gray-300 rounded-l-md"}," - "),e("input",{type:"text",readonly:"",value:o(n),class:"w-12 py-1 text-center border-t border-b border-gray-300 focus:ring-0 focus:outline-none"},null,8,ie),e("button",{onClick:y,class:"px-2 py-1 border border-gray-300 rounded-r-md"}," + ")])]),e("div",re,[de,e("p",ue,c(t.item.UnitPrice),1)])])])])]),footer:f(()=>[e("div",fe,[u(k,{onClick:b},{default:f(()=>[U("加入購物車")]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{_e as I,xe as _};
