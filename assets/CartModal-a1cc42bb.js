import{o as i,c as r,e,h as _,i as u,u as o,w as f,a0 as M,t as c,F as v,b as B,v as U,z as p,y as j,H as V,T as F,Q as N}from"./index-5ccee54c.js";import{u as D}from"./useCart-8b2a9395.js";const S={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},P=e("path",{fill:"currentColor","fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11a5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z","clip-rule":"evenodd"},null,-1),T=[P];function G(t,h){return i(),r("svg",S,T)}const _e={name:"heroicons-magnifying-glass-20-solid",render:G},Z={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},A=e("path",{fill:"currentColor",d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"},null,-1),E=[A];function O(t,h){return i(),r("svg",Z,E)}const q={name:"heroicons-plus-20-solid",render:O},z={class:"flex items-center justify-end"},H={class:"mt-6"},L={class:"flex flex-col md:flex-row"},Q={class:"w-full md:w-1/2"},R=["src"],X={class:"flex flex-col justify-between w-full px-5 md:w-1/2"},J={class:"flex items-center justify-between"},K={class:"text font-bold text-[#252422]"},W={class:"flex flex-col w-full gap-1 mt-3"},Y={class:"flex flex-col"},ee=e("span",{class:"font-medium text"},"選擇商品規格：",-1),te={class:"text-sm text"},se={class:"flex flex-wrap gap-3 mt-1"},oe=["name","value"],le={class:"flex items-center justify-center border rounded-lg px-3 py-1 text peer-checked:font-semibold peer-checked:bg-[#CB997E] peer-checked:text-white"},ne={class:"flex flex-col w-full gap-1 mt-3"},ae=e("span",{class:"font-medium text"},"購買數量：",-1),ce={class:"flex items-center"},ie=["value"],re={class:"flex flex-col w-full gap-1 mt-3"},de=e("span",{class:"font-medium text"},"建議售價：",-1),ue={class:"text before:content-['NT$'] before:mr-1"},fe={class:"relative flex items-center justify-center gap-4 after:absolute after:content after:h-[1px] after:w-full after:bg-text-secondary after:-top-4"},xe={__name:"CartModal",props:{item:Object},setup(t){const h=t,{buyNow:g}=D(),s=_(!1),l=_([]),b=m=>{m.stopPropagation(),s.value=!s.value,console.log("open")},x=()=>{s.value=!s.value},w=async()=>{await g(h.item,n.value,l.value),x()},n=_(1),y=()=>{n.value>0&&(n.value-=1)},C=()=>{n.value+=1};return(m,d)=>{const k=N;return i(),r(v,null,[u(o(q),{class:"bg-[#403D39] rounded-full text-[#FFFCF2] w-6 h-6",onClick:b}),u(F,{modelValue:o(s),"onUpdate:modelValue":d[1]||(d[1]=a=>p(s)?s.value=a:null)},{title:f(()=>[e("div",z,[u(o(M),{class:"w-5 h-5 cursor-pointer hover:text-[#CCC5B9] transition-colors duration-150",onClick:x})])]),content:f(()=>[e("div",H,[e("div",L,[e("div",Q,[e("img",{src:t.item.ImageUrls&&t.item.ImageUrls.length>0?t.item.ImageUrls[0].Url:m.defaultImageUrl,alt:"",class:"block object-cover w-full h-full"},null,8,R)]),e("div",X,[e("div",J,[e("h2",K,c(t.item.Name),1)]),e("div",W,[e("div",Y,[ee,e("span",te,"可選擇 "+c(t.item.GoodsSpecs.length)+" 種，已選 "+c(o(l).length)+" 種",1)]),e("div",se,[(i(!0),r(v,null,B(t.item.GoodsSpecs,(a,I)=>(i(),r("label",{key:I},[U(e("input",{"onUpdate:modelValue":d[0]||(d[0]=$=>p(l)?l.value=$:null),class:"sr-only peer",name:a.ID,type:"checkbox",value:a.ID},null,8,oe),[[j,o(l)]]),e("div",le,c(a.Specs),1)]))),128))])]),e("div",ne,[ae,e("div",ce,[e("button",{onClick:y,class:"px-2 py-1 border border-gray-300 rounded-l-md"}," - "),e("input",{type:"text",readonly:"",value:o(n),class:"w-12 py-1 text-center border-t border-b border-gray-300 focus:ring-0 focus:outline-none"},null,8,ie),e("button",{onClick:C,class:"px-2 py-1 border border-gray-300 rounded-r-md"}," + ")])]),e("div",re,[de,e("p",ue,c(t.item.UnitPrice),1)])])])])]),footer:f(()=>[e("div",fe,[u(k,{onClick:w},{default:f(()=>[V("加入購物車")]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{_e as I,xe as _};
