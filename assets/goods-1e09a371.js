import{r as m,g as f,f as b,m as v,o as i,c,e as t,u as a,F as y,b as x,k as w,n as k,q as D,i as l,t as g}from"./index-5ccee54c.js";import{d as I}from"./image-37011158.js";import{I as C,_ as u}from"./CartModal-a1cc42bb.js";import{e as F}from"./useNotification-c895e272.js";import"./useCart-8b2a9395.js";import"./useUser-ba17c0d4.js";const L={class:"p-0 overflow-hidden md:p-3"},G=t("h2",{class:"titleText text-2xl relative pl-3 after:content-[''] after:absolute after:bottom-0 after:left-0 after:top-0 after:border-2 after:border-[#DDBEA9]"}," 所有商品 ",-1),N={class:"grid w-full grid-cols-2 grid-rows-none gap-2 mt-5 md:grid-rows-4 lg:grid-rows-3 md:grid-cols-3 lg:grid-cols-4"},S={class:"overflow-hidden bg-white border rounded-md shadow-lg"},U={class:"relative pb-[75%] border-b w-full"},P={class:"absolute inset-0 block"},T=["src"],$=["onClick"],j={class:"absolute inset-0 items-center justify-center hidden opacity-0 group-hover:opacity-100 md:flex"},B={class:"flex gap-5"},E=["onClick"],A={class:"font-bold text link"},M={class:"flex items-center justify-between"},V={class:"text text-sm text-[#252422] before:content-['NT$'] before:mr-1 before:text-[#252422]"},Q={__name:"goods",setup(O){const s=m({goodsList:[],goodsListSearch:{ID:0,Page:0,PageLimit:0,GoodsName:"",GoodsType:0}}),_=f(),p=b(),h=async()=>{const r=s.goodsListSearch;try{await k(D,r,e=>{s.goodsList=[...e.Data]})}catch(e){F("所有商品列表取得失敗",e)}},n=async r=>{const e=r.ID;_.commit("goodsModules/SET_GOODS_DETAIL_ID",e),p.push({name:"GoodsDetail",params:{id:e}})};return v(async()=>{await h()}),(r,e)=>(i(),c("div",L,[G,t("div",N,[a(s).goodsList.length>0?(i(!0),c(y,{key:0},x(a(s).goodsList,o=>(i(),c("div",{key:o.ID,class:"cursor-pointer group hover:bg-transparent"},[t("div",S,[t("div",U,[t("picture",P,[t("img",{src:o.ImageUrls&&o.ImageUrls.length>0?o.ImageUrls[0].Url:a(I),alt:"Card",loading:"lazy",class:"object-cover object-center w-full h-full"},null,8,T)]),t("div",{class:"absolute inset-0 transition-opacity duration-200 bg-black opacity-0 group-hover:opacity-50",onClick:d=>n(o)},null,8,$),t("div",j,[t("div",B,[l(a(C),{class:"w-8 h-8 rounded-md bg-[#FFFCF2] shadow-sm text-[#403D39] p-0.5 cursor-pointer hover:text-[#FFFCF2] hover:bg-[#403D39] transition-colors duration-150",onClick:d=>n(o)},null,8,["onClick"]),l(u,{item:o},null,8,["item"])])])]),t("div",{class:"flex flex-col gap-2 px-2 py-3",onClick:d=>n(o)},[t("h3",A,g(o.Name),1),t("div",M,[t("span",V,g(o.UnitPrice),1),l(u,{item:o},null,8,["item"])])],8,E)])]))),128)):w("",!0)])]))}};export{Q as default};
