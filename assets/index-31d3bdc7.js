import{o as s,c as o,e,a as j,i as a,w as n,u as t,H as i,t as b,W as H,A as $,g as G,h as v,r as T,m as Z,a9 as q,D as K,F as g,b as I,d as B,j as P,k as y,aa as L,v as Y,G as J,ab as F,Z as Q,n as X,ac as ee,_ as te,R as se}from"./index-c015119d.js";import{I as O}from"./user-20-solid-f32854a8.js";import{I as oe}from"./trash-aa4d0623.js";import{u as ae}from"./useUser-7cb99b30.js";import{s as le,e as ne}from"./useNotification-63f6693c.js";const re={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ce=e("path",{fill:"#e44f26",d:"m10.04 18.875l-7.991-4.116v-1.531l7.991-4.117v2.381l-4.988 2.501l4.988 2.5v2.382zm7.273.195H15.03l4.543-11.803h2.299L17.313 19.07zm4.647-.198v-2.38l5.023-2.499l-5.023-2.499V9.113l7.991 4.099v1.562l-7.991 4.098z"},null,-1),ie=e("path",{fill:"#c1272d",d:"m12.633 24.733l-1.666-1.665L9.3 24.732l-1.678-1.666l-1.675 1.665l-1.673-1.665L3.2 24.134L2 23.347l2.274-2.265l1.673 1.667l1.675-1.665l1.675 1.665l1.67-1.668l1.669 1.666l1.667-1.663l1.679 1.666l1.674-1.668l1.675 1.668l1.68-1.665l1.675 1.665l1.68-1.666l1.673 1.666l1.679-1.664L30 23.344l-1.198.792l-1.084-1.073l-1.683 1.667l-1.671-1.664l-1.679 1.664l-1.676-1.666l-1.681 1.666l-1.672-1.664l-1.673 1.664l-1.677-1.664l-1.673 1.667z"},null,-1),de=[ce,ie];function ue(d,r){return s(),o("svg",re,de)}const z={name:"vscode-icons-file-type-htmlhint",render:ue},fe={class:"px-3 py-2 bg-[#FFE8D6]"},he={class:"flex items-center justify-between flex-col md:flex-row gap-5 py-3 md:py-1 max-w-[1280px] m-auto"},pe={class:"h-full w-[150px]"},_e=e("span",{class:"text-xl font-medium tracking-wider text-[#252422]"},"WhyShop",-1),me=H('<div class="w-full max-w-[280px]"><span class="relative block pb-2 text-xl font-medium tracking-wider text-[#CB997E] text-center md:text-start before:content before:border-[#CB997E] before:border-b-2 before:absolute before:w-full before:bottom-0 before:left-0">聯絡我們</span><ul class="mt-3 space-y-2 text whitespace-nowrap"><li> 服務時間：<time datetime="9:00">9:00</time> - <time datetime="18:00">18:00</time></li><li>客服專線：(123)45678910</li><li> 客服信箱： <a href="mailto: whygogoinc@gmail.com"><span>whygogoinc@gmail.com</span></a></li></ul></div>',1),xe={class:"w-full max-w-[280px]"},ve=e("span",{class:"relative block pb-2 text-xl font-medium tracking-wider text-[#CB997E] text-center md:text-start before:content before:border-[#CB997E] before:border-b-2 before:absolute before:w-full before:bottom-0 before:left-0"},"客戶服務",-1),we={class:"mt-3 space-y-2 text-base tracking-wide"},ye={class:"mt-3 py-1 text-sm tracking-wider text-center text-[#252422]"},be=["datetime"],ge={__name:"FooterBar",setup(d){const r=new Date().getFullYear();return(u,h)=>{const p=j("RouterLink");return s(),o("footer",fe,[e("div",he,[e("div",pe,[a(p,{to:"/",class:"flex items-center"},{default:n(()=>[a(t(z),{class:"w-10 h-10 mr-2"}),_e]),_:1})]),me,e("div",xe,[ve,e("ul",we,[e("li",null,[a(p,{to:"/delivery",class:"link"},{default:n(()=>[i(" 宅配須知 ")]),_:1})]),e("li",null,[a(p,{to:"/private",class:"link"},{default:n(()=>[i(" 服務條款細則與隱私權保護 ")]),_:1})]),e("li",null,[a(p,{to:"/return",class:"link"},{default:n(()=>[i(" 退換貨政策 ")]),_:1})])])])]),e("div",ye,[i(" Copyright © Keith.Lee "),e("time",{datetime:t(r)},b(t(r)),9,be),i(". All Rights Reserved. ")])])}}},ke={class:"relative w-full h-full"},Ce={__name:"MenuIcon",props:{isOpen:{type:Boolean,default:!1}},setup(d){return(r,u)=>(s(),o("ul",ke,[e("li",{class:$(["absolute w-full h-1 transition ease-in-out delay-150 bg-[#6B705C] rounded-full top-1/2",d.isOpen?"-translate-y-1/2 rotate-45":"-translate-y-2.5"])},null,2),e("li",{class:$(["absolute w-full h-1 transition ease-in-out delay-150 bg-[#6B705C] rounded-full top-1/2",d.isOpen?"-translate-y-1/2 -rotate-45":"-translate-y-1/2"])},null,2),e("li",{class:$(["absolute w-full h-1 transition ease-in-out delay-150 bg-[#6B705C] rounded-full top-1/2",d.isOpen?"-translate-y-1/2 -rotate-45":"translate-y-1.5"])},null,2)]))}},Be={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Me=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0a.75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0a.75.75 0 0 1 1.5 0Z"},null,-1),$e=[Me];function Ie(d,r){return s(),o("svg",Be,$e)}const Le={name:"heroicons-shopping-cart",render:Ie},De={class:"relative z-20 h-[56px] box-border flex items-center justify-between px-3 py-2 bg-[#FFE8D6]"},Se={class:"h-full w-[150px]"},Ee=e("span",{class:"text-xl font-medium tracking-wider text-[#252422]"},"WhyShop",-1),Re={class:"flex"},Fe={class:"items-center hidden gap-6 mr-10 lg:flex"},Oe={class:"relative flex gap-3"},je={class:"absolute select-none flex items-center text-white justify-center w-5 h-5 text-xs font-bold bg-[#CCC5B9] rounded-full -right-1/4 -top-1/4"},ze=["onClick"],Ae={key:0,class:"flex flex-col gap-2 overflow-y-auto max-h-[250px]"},Ne=["src"],Ue={class:"flex items-center justify-between w-full"},Ve={class:"flex flex-col items-start text"},We={class:"text-sm truncate w-[150px] text-left"},He=e("span",{class:"text-xs"},"商品數量：1",-1),Ge=["onClick"],Te={key:1,class:"text-center text"},Ze={key:2,class:"mt-2 text-center text"},qe={ref:"mobileMenuRef",class:"z-10 absolute inset-0 bg-[#FFE8D6] border-t-2 border-[#CB997E] top-full h-[200vh]"},Ke={class:"py-3 space-y-6 text-center"},Pe={key:0,class:"mt-2 border-t-2 border-[#DDBEA9]"},Ye={class:"inline-flex mt-2"},Je={__name:"HeaderBar",setup(d){const{isLogin:r,logOut:u}=ae(),h=G(),p=v(!1),D=T([{to:"/about",text:"關於WhyShop"},{to:"/products",text:"商品分類"},{to:"/user",text:"會員專區"},{to:"/questionsAns",text:"常見問題"},{to:"/foodData",text:"WhyShop資料庫"}]),w=v(!1);let k;const A=()=>w.value=!w.value,S=v(null),m=v(!1),E=()=>{m.value=!m.value,F(S,_=>{m.value&&(m.value=!m.value)})},R=v(null),x=v(!1),N=()=>{x.value=!x.value,F(R,_=>{x.value&&(x.value=!x.value)})},M=()=>{k.matches&&(w.value=!1)},U=async _=>{const f={ID:_};try{await X(ee,f,async c=>{le("購物車商品刪除成功"),await h.dispatch("cartModules/updateCartItems")})}catch(c){ne("收藏商品刪除失敗",c)}},V=_=>{Q("確定要刪除商品?").then(f=>{f&&U(_)})};Z(async()=>{k=window.matchMedia("(min-width: 1024px)"),k.addEventListener("change",M),M();try{await h.dispatch("memberModules/checkMemberStatus"),await h.dispatch("cartModules/updateCartItems")}catch{}finally{p.value=!0}}),q(()=>{k.removeEventListener("change",M)});const C=K(()=>h.state.cartModules.cartStatus.goodsList);return(_,f)=>{const c=j("RouterLink"),W=Ce;return s(),o("header",De,[e("div",Se,[a(c,{to:"/",class:"flex items-center"},{default:n(()=>[a(t(z),{class:"w-10 h-10 mr-2"}),Ee]),_:1})]),e("div",Re,[e("ul",Fe,[(s(!0),o(g,null,I(t(D),l=>(s(),o("li",{key:l.text,class:"px-2 py-1 text-base tracking-wide cursor-pointer whitespace-nowrap link"},[a(c,{to:l.to,class:"link"},{default:n(()=>[i(b(l.text),1)]),_:2},1032,["to"])]))),128))]),e("div",Oe,[t(r)?(s(),B(t(O),{key:1,class:"hidden lg:flex w-8 h-8 border-2 border-[#6B705C] rounded-full cursor-pointer link hover:border-[#B7B7A4]",onClick:E})):(s(),B(c,{key:0,to:"/user",class:"hidden lg:flex lg:items-center lg:justify-center",onClick:E},{default:n(()=>[a(t(O),{class:"w-8 h-8 border-2 border-[#6B705C] rounded-full cursor-pointer link hover:border-[#B7B7A4]"})]),_:1})),e("div",{class:"relative",onClick:N},[a(t(Le),{class:"w-8 h-8 cursor-pointer link"}),e("span",je,b(t(C).length),1)]),e("button",{class:"flex items-center justify-center w-9 h-9 lg:hidden",onClick:P(A,["prevent"])},[a(W,{class:"w-8 h-8",isOpen:t(w)},null,8,["isOpen"])],8,ze),a(L,{"enter-active-class":"transition duration-100 ease-out origin-top-right","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-out","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:n(()=>[t(r)?(s(),o(g,{key:0},[t(m)?(s(),o("div",{key:0,ref_key:"userMenuIconRef",ref:S,class:"absolute flex flex-col items-center justify-center gap-4 px-6 py-3 rounded-md shadow-md -left-full bg-[#CB997E] text text-white text-center top-[110%] right-2/3 whitespace-nowrap"},[a(c,{to:"/user",class:"hover:text-[#403D39]"},{default:n(()=>[i(" 會員專區 ")]),_:1}),e("span",{class:"cursor-pointer hover:text-[#403D39]",onClick:f[0]||(f[0]=(...l)=>t(u)&&t(u)(...l))},"登出")],512)):y("",!0)],64)):y("",!0)]),_:1}),a(L,{"enter-active-class":"transition duration-100 ease-out origin-top-right","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-out","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:n(()=>[t(x)?(s(),o("div",{key:0,ref_key:"cartMenuIconRef",ref:R,class:"absolute w-[300px] z-20 p-3 rounded-md shadow-md right-0 bg-white border-2 border-[#B7B7A4] top-[110%]"},[t(C).length!==0?(s(),o("div",Ae,[(s(!0),o(g,null,I(t(C),l=>(s(),o("div",{key:l.ID,class:"flex w-full gap-2"},[e("img",{src:l.ImageUrls,alt:"",class:"w-12"},null,8,Ne),e("div",Ue,[e("div",Ve,[e("p",We,b(l.Goods.Name),1),He]),e("button",{class:"text hover:text-red-500 whitespace-nowrap",onClick:et=>V(l.ID)},[a(t(oe),{class:"w-5 h-5"})],8,Ge)])]))),128))])):(s(),o("div",Te,"您的購物車是空的")),t(p)?(s(),o("div",Ze,[t(r)&&t(C).length>0?(s(),B(c,{key:0,to:"/cart",class:"link"},{default:n(()=>[i(" 立即結帳 ")]),_:1})):(s(),B(c,{key:1,to:"/products",class:"link"},{default:n(()=>[i(" 馬上選購 ")]),_:1}))])):y("",!0)],512)):y("",!0)]),_:1})])]),a(L,{"enter-active-class":"transition duration-500 ease-out origin-top-bottom","enter-from-class":"transform opacity-0 ","enter-to-class":"transform opacity-100 ","leave-active-class":"transition duration-500 ease-out","leave-from-class":"transform opacity-100","leave-to-class":"transform opacity-0"},{default:n(()=>[Y(e("div",qe,[e("ul",Ke,[(s(!0),o(g,null,I(t(D),l=>(s(),o("li",{key:l.text,class:"px-2 py-1 text-base tracking-wide cursor-pointer whitespace-nowrap link"},[a(c,{to:l.to,class:"link"},{default:n(()=>[i(b(l.text),1)]),_:2},1032,["to"])]))),128)),t(r)?(s(),o("div",Pe,[e("div",Ye,[e("span",{class:"px-4 py-2 link",onClick:f[1]||(f[1]=(...l)=>t(u)&&t(u)(...l))},"登出")])])):y("",!0)])],512),[[J,t(w)]])]),_:1})])}}},Qe={};function Xe(d,r){const u=Je,h=ge;return s(),o(g,null,[a(u),se(d.$slots,"default"),a(h)],64)}const nt=te(Qe,[["render",Xe]]);export{Le as I,nt as _};
